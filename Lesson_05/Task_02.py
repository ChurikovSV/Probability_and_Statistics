# Проведите тест гипотезы. Продавец утверждает, что средний вес пачки печенья
# составляет 200 г. Из партии извлечена выборка из 10 пачек. Вес каждой пачки
# составляет: 202, 203, 199, 197, 195, 201, 200, 204, 194, 190. Известно, что их веса
# распределены нормально. Верно ли утверждение продавца, если учитывать, что
# доверительная вероятность равна 99%? (Провести двусторонний тест.)


import numpy as np
import scipy.stats as stats

# Данные
weights = np.array([202, 203, 199, 197, 195, 201, 200, 204, 194, 190])
n = len(weights)
mean_sample = np.mean(weights)
std_sample = np.std(weights, ddof=1)
mu = 200  # Заявленное среднее значение
alpha = 0.01  # Уровень значимости

# Вычисление t-статистики
t_statistic = (mean_sample - mu) / (std_sample / np.sqrt(n))

# Критическое значение для двустороннего теста
t_critical = stats.t.ppf(1 - alpha / 2, df=n-1)

# Значение p-value
p_value = 2 * (1 - stats.t.cdf(np.abs(t_statistic), df=n-1))

# Вывод результатов
print(f"Выборочное среднее: {mean_sample:.2f}")
print(f"Выборочное стандартное отклонение: {std_sample:.2f}")
print(f"t-статистика: {t_statistic:.2f}")
print(f"Критическое значение t: {t_critical:.2f}")
print(f"p-value: {p_value:.4f}")

if np.abs(t_statistic) > t_critical:
    print("Отклоняем нулевую гипотезу: средний вес пачки печенья отличается от 200 г.")
else:
    print("Не отклоняем нулевую гипотезу: средний вес пачки печенья не отличается от 200 г.")

# Выборочное среднее: 198.50
# Выборочное стандартное отклонение: 4.45
# t-статистика: -1.07
# Критическое значение t: 3.25
# p-value: 0.3146
# Не отклоняем нулевую гипотезу: средний вес пачки печенья не отличается от 200 г.
